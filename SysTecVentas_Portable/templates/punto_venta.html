{% extends 'base.html' %}
{% block content %}
<div class="container mx-auto py-6">
    <h2 class="text-2xl font-bold mb-4">Punto de Venta</h2>

    <form id="ventaForm" method="POST" action="#" class="bg-white p-4 rounded shadow">
        <div class="mb-4">
            <label for="cliente" class="block font-medium">Cliente:</label>
            <select id="cliente" name="cliente_id" class="w-full border rounded p-2">
                <option value="">Consumidor Final</option>
                {% for cliente in clientes %}
                <option value="{{ cliente.id }}">{{ cliente.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-4">
            <label for="metodo_pago" class="block font-medium">Método de Pago:</label>
            <select id="metodo_pago" name="metodo_pago" class="w-full border rounded p-2">
                <option value="Efectivo">Efectivo</option>
                <option value="Tarjeta">Tarjeta</option>
                <option value="Transferencia">Transferencia</option>
                <option value="QR">QR</option>
                <option value="Mercado Pago">Mercado Pago</option>
                <option value="Otro">Otro</option>
            </select>
        </div>

        <div class="mb-4">
            <label class="block font-medium">¿Pagado?</label>
            <label class="inline-flex items-center mr-4">
                <input type="radio" name="pagado" value="1" checked class="mr-2"> Sí
            </label>
            <label class="inline-flex items-center">
                <input type="radio" name="pagado" value="0" class="mr-2"> No (Cuenta Corriente)
            </label>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            {% for producto in productos %}
            <div class="border p-2 rounded shadow">
                <h3 class="font-semibold">{{ producto.nombre }}</h3>
                <p>Precio: ${{ producto.precio }}</p>
                <label>Cantidad:
                    <input type="number" name="cantidad_{{ producto.id }}" min="0" max="{{ producto.stock }}" value="0" class="w-full border rounded p-1 mt-1">
                </label>
            </div>
            {% endfor %}
        </div>

        <div class="mt-6 text-right">
            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Confirmar Venta</button>
        </div>
    </form>
</div>
{% endblock %}
