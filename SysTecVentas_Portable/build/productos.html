{% extends "base.html" %}

{% block title %}Productos - SysTec Ventas{% endblock %}

{% block content %}
<div style="padding: 40px;">
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 2rem;">
        <h2 style="font-size: 2.2rem; font-weight: bold; color: #80ed99;">
            <i class="fas fa-box" style="margin-right: 10px;"></i> Productos
        </h2>
        <a href="{{ url_for('agregar_producto') }}"
           style="background: #1d8637; color: white; font-weight: bold; padding: 10px 24px; border-radius: 8px; box-shadow: 0 2px 8px #0002; text-decoration: none; transition: background 0.2s;">
            <i class="fas fa-plus" style="margin-right: 8px;"></i>Agregar Producto
        </a>
    </div>
    <table style="width: 100%; color: white; border-collapse: collapse; background: transparent;">
        <thead>
            <tr style="background: #212529; color: #80ed99;">
                <th style="padding: 12px 8px; text-align: left;">Nombre</th>
                <th style="padding: 12px 8px; text-align: left;">Precio Venta</th>
                <th style="padding: 12px 8px; text-align: left;">Precio Costo</th>
                <th style="padding: 12px 8px; text-align: left;">Stock</th>
                <th style="padding: 12px 8px; text-align: left;">Estado</th>
                <th style="padding: 12px 8px; text-align: left;">Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for producto in productos %}
            <tr style="background: {% if producto.stock <= umbral %}#3a1a1a{% else %}transparent{% endif %}; border-bottom: 1px solid #333;">
                <td style="padding: 10px 8px;">{{ producto.nombre }}</td>
                <td style="padding: 10px 8px;">${{ "%.2f"|format(producto.precio) }}</td>
                <td style="padding: 10px 8px;">${{ "%.2f"|format(producto.precio_costo or 0) }}</td>
                <td style="padding: 10px 8px;">{{ producto.stock }}</td>
                <td style="padding: 10px 8px;">
                    {% if producto.activo %}
                        <span style="background: #80ed99; color: #212529; padding: 2px 10px; border-radius: 8px; font-size: 0.9em;">Activo</span>
                    {% else %}
                        <span style="background: #b91c1c; color: white; padding: 2px 10px; border-radius: 8px; font-size: 0.9em;">Inactivo</span>
                    {% endif %}
                </td>
                <td style="padding: 10px 8px;">
                    <a href="{{ url_for('editar_producto', id=producto.id) }}"
                       style="background: #80ed99; color: #212529; padding: 4px 12px; border-radius: 6px; text-decoration: none; font-size: 0.95em; margin-right: 6px;">
                        <i class="fas fa-edit"></i> Editar
                    </a>
                    <a href="{{ url_for('eliminar_producto', id=producto.id) }}"
                       style="background: #b91c1c; color: white; padding: 4px 12px; border-radius: 6px; text-decoration: none; font-size: 0.95em;"
                       onclick="return confirm('¿Estás seguro de eliminar este producto?')">
                        <i class="fas fa-trash"></i> Eliminar
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

---

**Ejemplo:**

```python
# Esto es incorrecto en Python:
```
def mi_funcion():
    pass
```

**Debe ser:**

```python
def mi_funcion():
    pass
```

---

**Corrige esto y tu app volverá a funcionar.**  
¿Necesitas ayuda para ubicar la línea exacta o limpiar el archivo?

<ul class="Links" style="width: 100%;">
    <li onclick="Navigate(0)" class="activeLink"><i class="fa-solid fa-chart-pie"></i>
        <p>Dashboard</p>
    </li>
    <li onclick="Navigate(1)"><i class="fa-solid fa-cash-register"></i>
        <p>Punto de Venta</p>
    </li>
    <li onclick="Navigate(2)"><i class="fa-solid fa-list"></i>
        <p>Ventas</p>
    </li>
    <li onclick="Navigate(3)"><i class="fa-solid fa-box"></i>
        <p>Productos</p>
    </li>
    <li onclick="Navigate(4)"><i class="fa-solid fa-users"></i>
        <p>Clientes</p>
    </li>
    <li onclick="Navigate(5)"><i class="fa-solid fa-cog"></i>
        <p>Configuración</p>
    </li>
    <!-- Botón de salir -->
    <li>
        <a href="{{ url_for('logout') }}" style="display: flex; align-items: center; color: #b91c1c; font-weight: bold; width: 100%; padding: 12px 16px;">
            <i class="fa-solid fa-right-from-bracket" style="margin-right: 10px;"></i> Salir
        </a>
    </li>
</ul>